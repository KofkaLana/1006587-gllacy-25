function currentSlide(a,b){b=Array.from(document.getElementsByClassName("slide")),showSlides(slideIndex=a),bodyColor=b[a-1].getAttribute("data-color"),mainContainer.style.background=bodyColor}function showSlides(a){var b,c=document.getElementsByClassName("slide"),d=document.getElementsByClassName("controls-btn");for(a>c.length&&(slideIndex=1),a<1&&(slideIndex=c.length),b=0;b<c.length;b++)c[b].className=c[b].className.replace(" slide-show","");for(b=0;b<d.length;b++)d[b].className=d[b].className.replace(" active-btn","");c[slideIndex-1].className+=" slide-show",d[slideIndex-1].className+=" active-btn"}var slideIndex=1;showSlides(slideIndex);var mainContainer=document.querySelector("body"),bodyColor,open=document.querySelector(".feedback-btn"),popup=document.querySelector(".modal"),close=document.querySelector(".modal-close"),form=popup.querySelector("form"),who=popup.querySelector("[name=name]"),email=popup.querySelector("[name=email]"),something=popup.querySelector("[name=about]"),page=document.querySelector(".wrapper-modal"),isStorageSupport=!0,storageA="",storageB="";try{storageA=localStorage.getItem("who"),storageB=localStorage.getItem("email")}catch(err){isStorageSupport=!1}open.addEventListener("click",function(a){a.preventDefault(),popup.classList.add("modal-show"),page.classList.add("overlay"),storageA&&storageB?(who.value=storageA,email.value=storageB,something.focus()):who.focus()}),close.addEventListener("click",function(a){a.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error"),page.classList.remove("overlay")}),form.addEventListener("submit",function(a){who.value&&email.value&&something.value?isStorageSupport&&(localStorage.setItem("who",who.value),localStorage.setItem("email",email.value)):(a.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&(a.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error"),page.classList.remove("overlay")))});